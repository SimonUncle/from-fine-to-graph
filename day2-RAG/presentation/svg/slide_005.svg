<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080" width="1920" height="1080">
  <rect width="1920" height="1080" fill="#FFFFFF"/>

  <rect x="80" y="60" width="280" height="50" rx="25" fill="#FF6B6B" opacity="0.2"/>
  <text x="220" y="92" font-family="system-ui, sans-serif" font-size="22" font-weight="600" fill="#FF6B6B" text-anchor="middle">Section 1: Naive RAG</text>

  <text x="960" y="160" font-family="system-ui, sans-serif" font-size="64" font-weight="bold" fill="#2C3E50" text-anchor="middle">작동 방식</text>
  <text x="960" y="220" font-family="system-ui, sans-serif" font-size="28" fill="#7F8C8D" text-anchor="middle">"Query부터 Answer까지 전 과정"</text>

  <g transform="translate(960, 240)"><circle cx="-60" cy="0" r="6" fill="#FF6B6B"/><circle cx="-30" cy="0" r="6" fill="#4ECDC4"/><circle cx="0" cy="0" r="6" fill="#45B7D1"/><circle cx="30" cy="0" r="6" fill="#96CEB4"/><circle cx="60" cy="0" r="6" fill="#FFEAA7"/></g>

  <!-- Detailed Flowchart -->
  <g transform="translate(240, 300)">
    <!-- Query -->
    <rect x="0" y="0" width="400" height="100" rx="20" fill="#FFB3BA" opacity="0.3" stroke="#FF6B6B" stroke-width="3"/>
    <text x="50" y="40" font-size="40" text-anchor="middle">💬</text>
    <text x="200" y="45" font-family="system-ui, sans-serif" font-size="26" font-weight="bold" fill="#2C3E50" text-anchor="middle">사용자 질문</text>
    <text x="200" y="75" font-family="system-ui, sans-serif" font-size="18" fill="#7F8C8D" text-anchor="middle">"도박 빚을 갚아야 하나요?"</text>

    <path d="M 200 100 L 200 150" stroke="#95A5A6" stroke-width="4" fill="none" marker-end="url(#arrow)"/>

    <!-- Embedding -->
    <rect x="0" y="150" width="400" height="100" rx="20" fill="#BAFFC9" opacity="0.3" stroke="#4ECDC4" stroke-width="3"/>
    <text x="50" y="190" font-size="40" text-anchor="middle">🔢</text>
    <text x="200" y="195" font-family="system-ui, sans-serif" font-size="26" font-weight="bold" fill="#2C3E50" text-anchor="middle">Query Embedding</text>
    <text x="200" y="225" font-family="system-ui, sans-serif" font-size="18" fill="#7F8C8D" text-anchor="middle">벡터로 변환 [0.23, -0.15, ...]</text>

    <path d="M 200 250 L 200 300" stroke="#95A5A6" stroke-width="4" fill="none" marker-end="url(#arrow)"/>

    <!-- Vector Search -->
    <rect x="0" y="300" width="400" height="100" rx="20" fill="#BAE1FF" opacity="0.3" stroke="#45B7D1" stroke-width="3"/>
    <text x="50" y="340" font-size="40" text-anchor="middle">🔍</text>
    <text x="200" y="345" font-family="system-ui, sans-serif" font-size="26" font-weight="bold" fill="#2C3E50" text-anchor="middle">Vector Search</text>
    <text x="200" y="375" font-family="system-ui, sans-serif" font-size="18" fill="#7F8C8D" text-anchor="middle">FAISS로 유사 문서 검색</text>

    <path d="M 200 400 L 200 450" stroke="#95A5A6" stroke-width="4" fill="none" marker-end="url(#arrow)"/>

    <!-- Retrieved Docs -->
    <rect x="0" y="450" width="400" height="100" rx="20" fill="#E0BBE4" opacity="0.3" stroke="#9B59B6" stroke-width="3"/>
    <text x="50" y="490" font-size="40" text-anchor="middle">📄</text>
    <text x="200" y="495" font-family="system-ui, sans-serif" font-size="26" font-weight="bold" fill="#2C3E50" text-anchor="middle">Top-K 문서</text>
    <text x="200" y="525" font-family="system-ui, sans-serif" font-size="18" fill="#7F8C8D" text-anchor="middle">가장 유사한 3개 문서</text>
  </g>

  <g transform="translate(720, 300)">
    <!-- Prompt Construction -->
    <rect x="0" y="75" width="400" height="100" rx="20" fill="#FFEAA7" opacity="0.3" stroke="#F39C12" stroke-width="3"/>
    <text x="50" y="115" font-size="40" text-anchor="middle">📝</text>
    <text x="200" y="120" font-family="system-ui, sans-serif" font-size="26" font-weight="bold" fill="#2C3E50" text-anchor="middle">프롬프트 구성</text>
    <text x="200" y="150" font-family="system-ui, sans-serif" font-size="18" fill="#7F8C8D" text-anchor="middle">컨텍스트 + 질문 조합</text>

    <path d="M 200 175 L 200 225" stroke="#95A5A6" stroke-width="4" fill="none" marker-end="url(#arrow)"/>

    <!-- LLM Generation -->
    <rect x="0" y="225" width="400" height="100" rx="20" fill="#DDA0DD" opacity="0.4" stroke="#9370DB" stroke-width="3"/>
    <text x="50" y="265" font-size="40" text-anchor="middle">🤖</text>
    <text x="200" y="270" font-family="system-ui, sans-serif" font-size="26" font-weight="bold" fill="#2C3E50" text-anchor="middle">LLM 생성</text>
    <text x="200" y="300" font-family="system-ui, sans-serif" font-size="18" fill="#7F8C8D" text-anchor="middle">GPT-4, Claude 등</text>

    <path d="M 200 325 L 200 375" stroke="#95A5A6" stroke-width="4" fill="none" marker-end="url(#arrow)"/>

    <!-- Answer -->
    <rect x="0" y="375" width="400" height="100" rx="20" fill="#98FB98" opacity="0.4" stroke="#32CD32" stroke-width="3"/>
    <text x="50" y="415" font-size="40" text-anchor="middle">✅</text>
    <text x="200" y="420" font-family="system-ui, sans-serif" font-size="26" font-weight="bold" fill="#2C3E50" text-anchor="middle">최종 답변</text>
    <text x="200" y="450" font-family="system-ui, sans-serif" font-size="18" fill="#7F8C8D" text-anchor="middle">"도박 빚은 법적 의무 없음"</text>
  </g>

  <!-- Right side: Key components -->
  <rect x="1200" y="300" width="600" height="550" rx="20" fill="#F8F9FA" stroke="#E0E0E0" stroke-width="2"/>
  <text x="1500" y="350" font-family="system-ui, sans-serif" font-size="32" font-weight="bold" fill="#2C3E50" text-anchor="middle">🔧 핵심 컴포넌트</text>

  <text x="1240" y="420" font-family="system-ui, sans-serif" font-size="24" font-weight="600" fill="#E74C3C">1. Embedding Model</text>
  <text x="1240" y="455" font-family="system-ui, sans-serif" font-size="19" fill="#7F8C8D">• BAAI/bge-m3, OpenAI Ada-002</text>
  <text x="1240" y="485" font-family="system-ui, sans-serif" font-size="19" fill="#7F8C8D">• 텍스트 → 벡터 변환 (1536차원)</text>

  <text x="1240" y="540" font-family="system-ui, sans-serif" font-size="24" font-weight="600" fill="#3498DB">2. Vector Database</text>
  <text x="1240" y="575" font-family="system-ui, sans-serif" font-size="19" fill="#7F8C8D">• FAISS, Chroma, Pinecone</text>
  <text x="1240" y="605" font-family="system-ui, sans-serif" font-size="19" fill="#7F8C8D">• 빠른 유사도 검색 (코사인)</text>

  <text x="1240" y="660" font-family="system-ui, sans-serif" font-size="24" font-weight="600" fill="#27AE60">3. LLM</text>
  <text x="1240" y="695" font-family="system-ui, sans-serif" font-size="19" fill="#7F8C8D">• GPT-4, Claude, Gemini</text>
  <text x="1240" y="725" font-family="system-ui, sans-serif" font-size="19" fill="#7F8C8D">• 컨텍스트 기반 답변 생성</text>

  <text x="1240" y="780" font-family="system-ui, sans-serif" font-size="24" font-weight="600" fill="#F39C12">4. Prompt Template</text>
  <text x="1240" y="815" font-family="system-ui, sans-serif" font-size="19" fill="#7F8C8D">• System + Context + Query</text>

  <!-- Arrows connecting sections -->
  <path d="M 420 525 L 720 400" stroke="#95A5A6" stroke-width="3" stroke-dasharray="5,5" fill="none" marker-end="url(#arrow)"/>

  <defs><marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"><polygon points="0 0, 10 3, 0 6" fill="#95A5A6"/></marker></defs>

  <text x="1850" y="1040" font-family="system-ui, sans-serif" font-size="24" fill="#BDC3C7" text-anchor="end">5 / 63</text>
</svg>
