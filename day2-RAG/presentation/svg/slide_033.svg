<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080" width="1920" height="1080">
  <rect width="1920" height="1080" fill="#FFFFFF"/>

  <rect x="80" y="60" width="340" height="50" rx="25" fill="#45B7D1" opacity="0.2"/>
  <text x="250" y="92" font-family="system-ui, sans-serif" font-size="22" font-weight="600" fill="#45B7D1" text-anchor="middle">Section 6: Hybrid Search</text>

  <text x="960" y="160" font-family="system-ui, sans-serif" font-size="64" font-weight="bold" fill="#2C3E50" text-anchor="middle">Hybrid Search란?</text>
  <text x="960" y="220" font-family="system-ui, sans-serif" font-size="28" fill="#7F8C8D" text-anchor="middle">"Vector Search + BM25의 완벽한 조합"</text>

  <g transform="translate(960, 240)"><circle cx="-60" cy="0" r="6" fill="#FF6B6B"/><circle cx="-30" cy="0" r="6" fill="#4ECDC4"/><circle cx="0" cy="0" r="6" fill="#45B7D1"/><circle cx="30" cy="0" r="6" fill="#96CEB4"/><circle cx="60" cy="0" r="6" fill="#FFEAA7"/></g>

  <!-- Comparison table -->
  <g transform="translate(150, 300)">
    <!-- Headers -->
    <rect x="0" y="0" width="500" height="60" rx="10" fill="#E0E0E0"/>
    <rect x="520" y="0" width="580" height="60" rx="10" fill="#BAE1FF" opacity="0.3"/>
    <rect x="1120" y="0" width="580" height="60" rx="10" fill="#FFEAA7" opacity="0.3"/>

    <text x="250" y="40" font-family="system-ui, sans-serif" font-size="26" font-weight="bold" fill="#2C3E50" text-anchor="middle">항목</text>
    <text x="810" y="40" font-family="system-ui, sans-serif" font-size="26" font-weight="bold" fill="#2C3E50" text-anchor="middle">Vector Search</text>
    <text x="1410" y="40" font-family="system-ui, sans-serif" font-size="26" font-weight="bold" fill="#2C3E50" text-anchor="middle">BM25</text>

    <!-- Row 1: 원리 -->
    <rect x="0" y="70" width="500" height="90" fill="#F8F9FA"/>
    <text x="250" y="120" font-family="system-ui, sans-serif" font-size="22" font-weight="600" fill="#34495E" text-anchor="middle">원리</text>

    <rect x="520" y="70" width="580" height="90" fill="#FFFFFF"/>
    <text x="810" y="110" font-family="system-ui, sans-serif" font-size="20" fill="#34495E" text-anchor="middle">의미 기반 (Semantic)</text>
    <text x="810" y="140" font-family="system-ui, sans-serif" font-size="18" fill="#7F8C8D" text-anchor="middle">벡터 임베딩의 코사인 유사도</text>

    <rect x="1120" y="70" width="580" height="90" fill="#FFFFFF"/>
    <text x="1410" y="110" font-family="system-ui, sans-serif" font-size="20" fill="#34495E" text-anchor="middle">키워드 기반 (Lexical)</text>
    <text x="1410" y="140" font-family="system-ui, sans-serif" font-size="18" fill="#7F8C8D" text-anchor="middle">단어 빈도(TF-IDF) 계산</text>

    <!-- Row 2: 강점 -->
    <rect x="0" y="170" width="500" height="110" fill="#F8F9FA"/>
    <text x="250" y="230" font-family="system-ui, sans-serif" font-size="22" font-weight="600" fill="#34495E" text-anchor="middle">강점 ✅</text>

    <rect x="520" y="170" width="580" height="110" fill="#FFFFFF"/>
    <text x="810" y="215" font-family="system-ui, sans-serif" font-size="19" fill="#27AE60" text-anchor="middle">✓ 동의어/유의어 이해</text>
    <text x="810" y="245" font-family="system-ui, sans-serif" font-size="19" fill="#27AE60" text-anchor="middle">✓ 문맥 파악</text>

    <rect x="1120" y="170" width="580" height="110" fill="#FFFFFF"/>
    <text x="1410" y="215" font-family="system-ui, sans-serif" font-size="19" fill="#27AE60" text-anchor="middle">✓ 정확한 키워드 매칭</text>
    <text x="1410" y="245" font-family="system-ui, sans-serif" font-size="19" fill="#27AE60" text-anchor="middle">✓ 고유명사 검색 우수</text>

    <!-- Row 3: 약점 -->
    <rect x="0" y="290" width="500" height="110" fill="#F8F9FA"/>
    <text x="250" y="350" font-family="system-ui, sans-serif" font-size="22" font-weight="600" fill="#34495E" text-anchor="middle">약점 ❌</text>

    <rect x="520" y="290" width="580" height="110" fill="#FFFFFF"/>
    <text x="810" y="335" font-family="system-ui, sans-serif" font-size="19" fill="#E74C3C" text-anchor="middle">✗ 정확한 키워드 놓침</text>
    <text x="810" y="365" font-family="system-ui, sans-serif" font-size="19" fill="#E74C3C" text-anchor="middle">✗ 고유명사 약함</text>

    <rect x="1120" y="290" width="580" height="110" fill="#FFFFFF"/>
    <text x="1410" y="335" font-family="system-ui, sans-serif" font-size="19" fill="#E74C3C" text-anchor="middle">✗ 동의어 이해 불가</text>
    <text x="1410" y="365" font-family="system-ui, sans-serif" font-size="19" fill="#E74C3C" text-anchor="middle">✗ 의미 파악 불가</text>

    <!-- Row 4: 예시 -->
    <rect x="0" y="410" width="500" height="90" fill="#F8F9FA"/>
    <text x="250" y="460" font-family="system-ui, sans-serif" font-size="22" font-weight="600" fill="#34495E" text-anchor="middle">적합 예시</text>

    <rect x="520" y="410" width="580" height="90" fill="#FFFFFF"/>
    <text x="810" y="455" font-family="system-ui, sans-serif" font-size="18" fill="#7F8C8D" text-anchor="middle">"소송 절차가 어떻게 되나요?"</text>

    <rect x="1120" y="410" width="580" height="90" fill="#FFFFFF"/>
    <text x="1410" y="455" font-family="system-ui, sans-serif" font-size="18" fill="#7F8C8D" text-anchor="middle">"민법 제103조 내용"</text>
  </g>

  <!-- Bottom: Hybrid solution -->
  <g transform="translate(200, 560)">
    <rect x="0" y="0" width="1520" height="430" rx="20" fill="#E8F8F5" stroke="#27AE60" stroke-width="4"/>

    <text x="760" y="60" font-family="system-ui, sans-serif" font-size="36" font-weight="bold" fill="#27AE60" text-anchor="middle">
      🎯 Hybrid Search = 두 방식의 장점만 결합!
    </text>

    <!-- Flowchart -->
    <g transform="translate(100, 120)">
      <!-- Query -->
      <rect x="0" y="0" width="200" height="70" rx="10" fill="#FFB3BA" opacity="0.3" stroke="#FF6B6B" stroke-width="2"/>
      <text x="100" y="43" font-family="system-ui, sans-serif" font-size="20" font-weight="600" fill="#2C3E50" text-anchor="middle">Query</text>

      <path d="M 200 35 L 280 35" stroke="#95A5A6" stroke-width="3" fill="none"/>
      <path d="M 270 30 L 280 35 L 270 40" stroke="#95A5A6" stroke-width="3" fill="none"/>

      <!-- Split -->
      <circle cx="310" cy="35" r="15" fill="#4ECDC4" opacity="0.5"/>
      <line x1="310" y1="35" x2="310" y2="90" stroke="#95A5A6" stroke-width="3"/>
      <line x1="310" y1="35" x2="310" y2="-20" stroke="#95A5A6" stroke-width="3"/>
      <path d="M 305 85 L 310 90 L 315 85" stroke="#95A5A6" stroke-width="3" fill="none"/>
      <path d="M 305 -15 L 310 -20 L 315 -15" stroke="#95A5A6" stroke-width="3" fill="none"/>

      <!-- Vector -->
      <rect x="210" y="-80" width="200" height="60" rx="10" fill="#BAE1FF" opacity="0.4" stroke="#45B7D1" stroke-width="2"/>
      <text x="310" y="-43" font-family="system-ui, sans-serif" font-size="18" font-weight="600" fill="#2C3E50" text-anchor="middle">Vector Search</text>

      <!-- BM25 -->
      <rect x="210" y="90" width="200" height="60" rx="10" fill="#FFEAA7" opacity="0.4" stroke="#F39C12" stroke-width="2"/>
      <text x="310" y="127" font-family="system-ui, sans-serif" font-size="18" font-weight="600" fill="#2C3E50" text-anchor="middle">BM25 Search</text>

      <!-- Merge arrows -->
      <path d="M 410 -50 L 500 35" stroke="#95A5A6" stroke-width="3" fill="none"/>
      <path d="M 410 120 L 500 35" stroke="#95A5A6" stroke-width="3" fill="none"/>

      <!-- RRF -->
      <rect x="500" y="5" width="220" height="60" rx="10" fill="#96CEB4" opacity="0.5" stroke="#27AE60" stroke-width="3"/>
      <text x="610" y="42" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#2C3E50" text-anchor="middle">RRF 융합</text>

      <path d="M 720 35 L 800 35" stroke="#95A5A6" stroke-width="3" fill="none"/>
      <path d="M 790 30 L 800 35 L 790 40" stroke="#95A5A6" stroke-width="3" fill="none"/>

      <!-- Reranker -->
      <rect x="800" y="5" width="220" height="60" rx="10" fill="#DDA0DD" opacity="0.5" stroke="#9B59B6" stroke-width="3"/>
      <text x="910" y="42" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#2C3E50" text-anchor="middle">Re-ranker</text>

      <path d="M 1020 35 L 1100 35" stroke="#95A5A6" stroke-width="3" fill="none"/>
      <path d="M 1090 30 L 1100 35 L 1090 40" stroke="#95A5A6" stroke-width="3" fill="none"/>

      <!-- Final -->
      <rect x="1100" y="0" width="200" height="70" rx="10" fill="#98FB98" opacity="0.5" stroke="#27AE60" stroke-width="3"/>
      <text x="1200" y="43" font-family="system-ui, sans-serif" font-size="20" font-weight="bold" fill="#27AE60" text-anchor="middle">최종 Top-K</text>
    </g>

    <!-- Performance -->
    <text x="760" y="270" font-family="system-ui, sans-serif" font-size="28" font-weight="bold" fill="#2C3E50" text-anchor="middle">
      📈 성능 개선
    </text>
    <text x="760" y="315" font-family="system-ui, sans-serif" font-size="24" fill="#27AE60" text-anchor="middle">
      Vector만: Precision 0.76 → Hybrid: Precision <tspan font-weight="bold">0.89</tspan> (+17%)
    </text>
    <text x="760" y="355" font-family="system-ui, sans-serif" font-size="24" fill="#27AE60" text-anchor="middle">
      BM25만: Recall 0.65 → Hybrid: Recall <tspan font-weight="bold">0.87</tspan> (+34%)
    </text>
    <text x="760" y="400" font-family="system-ui, sans-serif" font-size="22" fill="#7F8C8D" text-anchor="middle">
      의미와 키워드 모두 잡아내는 최강 조합!
    </text>
  </g>

  <text x="1850" y="1040" font-family="system-ui, sans-serif" font-size="24" fill="#BDC3C7" text-anchor="end">33 / 63</text>
</svg>
