<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080">
  <defs>
    <linearGradient id="stepBackGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4ECDC4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#45B7D1;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="2" dy="4" stdDeviation="5" flood-opacity="0.2"/>
    </filter>
  </defs>

  <rect width="1920" height="1080" fill="#FFFFFF"/>
  <rect x="80" y="60" width="420" height="50" rx="25" fill="#4ECDC4" opacity="0.2"/>
  <text x="290" y="92" font-family="system-ui, sans-serif" font-size="22" font-weight="600" fill="#4ECDC4" text-anchor="middle">Section 4: Query Refinement</text>

  <text x="960" y="160" font-family="system-ui, sans-serif" font-size="64" font-weight="bold" fill="#2C3E50" text-anchor="middle">Step-Back Prompting</text>
  <text x="960" y="220" font-family="system-ui, sans-serif" font-size="28" fill="#7F8C8D" text-anchor="middle">"추상화로 배경 지식 검색"</text>

  <g transform="translate(960, 240)"><circle cx="-60" cy="0" r="6" fill="#FF6B6B"/><circle cx="-30" cy="0" r="6" fill="#4ECDC4"/><circle cx="0" cy="0" r="6" fill="#45B7D1"/><circle cx="30" cy="0" r="6" fill="#96CEB4"/><circle cx="60" cy="0" r="6" fill="#FFEAA7"/></g>

  <!-- Left: Problem -->
  <g transform="translate(200, 300)">
    <rect x="0" y="0" width="700" height="580" rx="20" fill="#FFE6E6" stroke="#E74C3C" stroke-width="3" filter="url(#shadow)"/>
    <text x="350" y="60" font-family="system-ui, sans-serif" font-size="32" font-weight="bold" fill="#E74C3C" text-anchor="middle">❌ 세부 질문만 검색</text>

    <!-- Specific question -->
    <rect x="40" y="100" width="620" height="100" rx="15" fill="#FFB3BA" opacity="0.3"/>
    <text x="350" y="135" font-family="system-ui, sans-serif" font-size="22" font-weight="600" fill="#2C3E50" text-anchor="middle">구체적 질문</text>
    <text x="350" y="170" font-family="system-ui, sans-serif" font-size="20" fill="#34495E" text-anchor="middle">"2023년 임대차 보증금 반환 소송</text>
    <text x="350" y="195" font-family="system-ui, sans-serif" font-size="20" fill="#34495E" text-anchor="middle">절차는?"</text>

    <!-- Arrow down -->
    <text x="350" y="250" font-family="system-ui, sans-serif" font-size="40" fill="#E74C3C" text-anchor="middle">↓</text>

    <!-- Search results -->
    <rect x="40" y="280" width="620" height="260" rx="15" fill="#FFFFFF"/>
    <text x="350" y="320" font-family="system-ui, sans-serif" font-size="22" font-weight="600" fill="#E74C3C" text-anchor="middle">검색 결과: 구체적 사례만</text>

    <text x="60" y="365" font-family="system-ui, sans-serif" font-size="19" fill="#34495E">📄 "2023년 임대차분쟁 판례 3건"</text>
    <text x="60" y="400" font-family="system-ui, sans-serif" font-size="19" fill="#34495E">📄 "보증금 반환 소송 양식"</text>
    <text x="60" y="435" font-family="system-ui, sans-serif" font-size="19" fill="#34495E">📄 "서울지방법원 사례"</text>

    <text x="350" y="490" font-family="system-ui, sans-serif" font-size="22" font-weight="bold" fill="#E74C3C" text-anchor="middle">⚠️ 문제점</text>
    <text x="350" y="525" font-family="system-ui, sans-serif" font-size="19" fill="#7F8C8D" text-anchor="middle">배경 지식(임대차법 기초, 소송 절차</text>
    <text x="350" y="555" font-family="system-ui, sans-serif" font-size="19" fill="#7F8C8D" text-anchor="middle">일반론)이 누락되어 답변 품질 저하</text>
  </g>

  <!-- Right: Solution -->
  <g transform="translate(1020, 300)">
    <rect x="0" y="0" width="700" height="580" rx="20" fill="url(#stepBackGrad)" filter="url(#shadow)"/>
    <text x="350" y="60" font-family="system-ui, sans-serif" font-size="32" font-weight="bold" fill="#FFFFFF" text-anchor="middle">✅ Step-Back으로 해결</text>

    <!-- Step back question -->
    <rect x="40" y="100" width="620" height="100" rx="15" fill="#FFFFFF" opacity="0.9"/>
    <text x="350" y="135" font-family="system-ui, sans-serif" font-size="22" font-weight="600" fill="#2C3E50" text-anchor="middle">일반화된 질문 (Step-Back)</text>
    <text x="350" y="170" font-family="system-ui, sans-serif" font-size="20" fill="#34495E" text-anchor="middle">"임대차 보증금 반환에 대한</text>
    <text x="350" y="195" font-family="system-ui, sans-serif" font-size="20" fill="#34495E" text-anchor="middle">법적 원칙은?"</text>

    <!-- Arrow down -->
    <text x="350" y="250" font-family="system-ui, sans-serif" font-size="40" fill="#FFFFFF" text-anchor="middle">↓</text>

    <!-- Better results -->
    <rect x="40" y="280" width="620" height="260" rx="15" fill="#FFFFFF" opacity="0.95"/>
    <text x="350" y="320" font-family="system-ui, sans-serif" font-size="22" font-weight="600" fill="#27AE60" text-anchor="middle">검색 결과: 배경+사례 모두</text>

    <text x="60" y="365" font-family="system-ui, sans-serif" font-size="19" fill="#27AE60" font-weight="600">📚 "주택임대차보호법 총론"</text>
    <text x="60" y="400" font-family="system-ui, sans-serif" font-size="19" fill="#27AE60" font-weight="600">📚 "보증금 반환청구권 법리"</text>
    <text x="60" y="435" font-family="system-ui, sans-serif" font-size="19" fill="#34495E">📄 "2023년 판례 사례들"</text>

    <text x="350" y="490" font-family="system-ui, sans-serif" font-size="22" font-weight="bold" fill="#FFFFFF" text-anchor="middle">🎯 효과</text>
    <text x="350" y="525" font-family="system-ui, sans-serif" font-size="19" fill="#FFFFFF" text-anchor="middle">배경 지식 + 구체적 사례 조합으로</text>
    <text x="350" y="555" font-family="system-ui, sans-serif" font-size="19" fill="#FFFFFF" text-anchor="middle">체계적이고 정확한 답변 생성!</text>
  </g>

  <text x="1850" y="1040" font-family="system-ui, sans-serif" font-size="24" fill="#BDC3C7" text-anchor="end">22 / 63</text>
</svg>
