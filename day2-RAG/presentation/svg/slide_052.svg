<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080">
  <defs>
    <filter id="shadow">
      <feDropShadow dx="2" dy="4" stdDeviation="5" flood-opacity="0.2"/>
    </filter>
  </defs>

  <rect width="1920" height="1080" fill="#FFFFFF"/>
  <rect x="80" y="60" width="420" height="50" rx="25" fill="#96CEB4" opacity="0.2"/>
  <text x="290" y="92" font-family="system-ui, sans-serif" font-size="22" font-weight="600" fill="#96CEB4" text-anchor="middle">Section 8: RAGAS</text>

  <text x="960" y="160" font-family="system-ui, sans-serif" font-size="64" font-weight="bold" fill="#2C3E50" text-anchor="middle">Context Recall</text>
  <text x="960" y="220" font-family="system-ui, sans-serif" font-size="28" fill="#7F8C8D" text-anchor="middle">"필요한 정보를 모두 검색했는가?"</text>

  <g transform="translate(960, 240)"><circle cx="-60" cy="0" r="6" fill="#FF6B6B"/><circle cx="-30" cy="0" r="6" fill="#4ECDC4"/><circle cx="0" cy="0" r="6" fill="#45B7D1"/><circle cx="30" cy="0" r="6" fill="#96CEB4"/><circle cx="60" cy="0" r="6" fill="#FFEAA7"/></g>

  <!-- Definition -->
  <rect x="200" y="300" width="1520" height="140" rx="20" fill="#F3E5F5" opacity="0.6" stroke="#9B59B6" stroke-width="3" filter="url(#shadow)"/>
  <text x="270" y="355" font-size="50" text-anchor="middle">🔄</text>
  <text x="400" y="350" font-family="system-ui, sans-serif" font-size="28" font-weight="bold" fill="#7B1FA2">정의</text>
  <text x="400" y="390" font-family="system-ui, sans-serif" font-size="22" fill="#34495E">답변에 <tspan font-weight="bold">필요한 모든 정보</tspan>를 검색했는지 측정 (Ground Truth 기준)</text>
  <text x="400" y="425" font-family="system-ui, sans-serif" font-size="22" fill="#7B1FA2" font-weight="bold">→ Retriever가 중요 문서를 놓치지 않았는지 확인!</text>

  <!-- Formula -->
  <g transform="translate(200, 470)">
    <rect x="0" y="0" width="1520" height="200" rx="20" fill="#F8F9FA" stroke="#E0E0E0" stroke-width="2" filter="url(#shadow)"/>
    <text x="760" y="50" font-family="system-ui, sans-serif" font-size="28" font-weight="bold" fill="#2C3E50" text-anchor="middle">계산 공식</text>

    <rect x="200" y="80" width="1320" height="90" rx="15" fill="#F3E5F5" opacity="0.4"/>
    <text x="860" y="130" font-family="Monaco, monospace" font-size="28" fill="#2C3E50" text-anchor="middle" font-weight="bold">Context Recall = 검색된 필수 문서 수 / 실제 필요한 문서 수 (GT)</text>
  </g>

  <!-- Example -->
  <g transform="translate(200, 700)">
    <rect x="0" y="0" width="1520" height="260" rx="20" fill="#F8F9FA" stroke="#E0E0E0" stroke-width="2" filter="url(#shadow)"/>
    <text x="760" y="45" font-family="system-ui, sans-serif" font-size="28" font-weight="bold" fill="#2C3E50" text-anchor="middle">실제 예시</text>

    <g transform="translate(40, 70)">
      <text x="0" y="30" font-family="system-ui, sans-serif" font-size="22" font-weight="600" fill="#45B7D1">질문: "도박 빚 갚아야 하나요?"</text>
      <text x="0" y="70" font-family="system-ui, sans-serif" font-size="20" fill="#E74C3C" font-weight="600">Ground Truth (정답에 필요한 4개 문서):</text>

      <g transform="translate(40, 90)">
        <text x="0" y="20" font-family="system-ui, sans-serif" font-size="19" fill="#7F8C8D">1. 민법 제103조 공서양속 위반</text>
        <text x="0" y="50" font-family="system-ui, sans-serif" font-size="19" fill="#7F8C8D">2. 불법원인급여 판례</text>
        <text x="0" y="80" font-family="system-ui, sans-serif" font-size="19" fill="#7F8C8D">3. 도박 계약 무효 판례</text>
        <text x="0" y="110" font-family="system-ui, sans-serif" font-size="19" fill="#7F8C8D">4. 채무 부존재 확인소송 절차</text>
      </g>

      <text x="650" y="70" font-family="system-ui, sans-serif" font-size="20" fill="#27AE60" font-weight="600">실제 검색된 문서 (3개):</text>
      <g transform="translate(690, 90)">
        <text x="0" y="20" font-family="system-ui, sans-serif" font-size="19" fill="#27AE60">✅ 민법 제103조</text>
        <text x="0" y="50" font-family="system-ui, sans-serif" font-size="19" fill="#27AE60">✅ 불법원인급여 판례</text>
        <text x="0" y="80" font-family="system-ui, sans-serif" font-size="19" fill="#27AE60">✅ 도박 계약 무효 판례</text>
        <text x="0" y="110" font-family="system-ui, sans-serif" font-size="19" fill="#E74C3C">❌ 절차 문서는 누락!</text>
      </g>

      <rect x="1100" y="30" width="340" height="150" rx="15" fill="#F3E5F5" opacity="0.5"/>
      <text x="1270" y="80" font-family="system-ui, sans-serif" font-size="26" font-weight="bold" fill="#9B59B6" text-anchor="middle">Context Recall</text>
      <text x="1270" y="120" font-family="Monaco, monospace" font-size="34" fill="#9B59B6" text-anchor="middle" font-weight="bold">= 3 / 4 = 0.75</text>
      <text x="1270" y="160" font-family="system-ui, sans-serif" font-size="19" fill="#7F8C8D" text-anchor="middle">1개 문서 놓침!</text>
    </g>
  </g>

  <!-- Bottom tip -->
  <rect x="200" y="990" width="1520" height="60" rx="15" fill="#FFF3CD" stroke="#F39C12" stroke-width="3"/>
  <text x="270" y="1028" font-size="36" text-anchor="middle">💡</text>
  <text x="360" y="1023" font-family="system-ui, sans-serif" font-size="22" fill="#F39C12">낮으면 top_k 늘리거나, Query Refinement로 검색 범위 확대!</text>

  <text x="1850" y="1040" font-family="system-ui, sans-serif" font-size="24" fill="#BDC3C7" text-anchor="end">52 / 63</text>
</svg>
