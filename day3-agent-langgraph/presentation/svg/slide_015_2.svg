<svg viewBox="0 0 1920 1080" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <filter id="shadow0152">
      <feDropShadow dx="0" dy="6" stdDeviation="8" flood-opacity="0.15"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1920" height="1080" fill="#f8f9ff"/>

  <!-- Title -->
  <text x="960" y="100" font-family="Arial, sans-serif" font-size="60" fill="#333" text-anchor="middle" font-weight="bold">ReAct 3단계 상세</text>
  <text x="960" y="160" font-family="Arial, sans-serif" font-size="30" fill="#666" text-anchor="middle">Think → Act → Observe 반복</text>

  <!-- Main Flow - Simplified Layout -->
  <g transform="translate(400, 280)">
    <!-- THINK -->
    <rect width="320" height="140" rx="20" fill="white" stroke="#667eea" stroke-width="4" filter="url(#shadow0152)"/>
    <text x="160" y="50" font-family="Arial, sans-serif" font-size="36" fill="#667eea" text-anchor="middle" font-weight="bold">🤔 THINK</text>
    <text x="160" y="90" font-family="Arial, sans-serif" font-size="22" fill="#333" text-anchor="middle">질문 분석</text>
    <text x="160" y="120" font-family="Arial, sans-serif" font-size="22" fill="#333" text-anchor="middle">어떤 도구 사용?</text>

    <!-- Arrow to ACT -->
    <line x1="320" y1="210" x2="520" y2="210" stroke="#667eea" stroke-width="5"/>
    <polygon points="520,210 505,200 505,220" fill="#667eea"/>

    <!-- ACT -->
    <g transform="translate(540, 0)">
      <rect width="320" height="140" rx="20" fill="white" stroke="#27AE60" stroke-width="4" filter="url(#shadow0152)"/>
      <text x="160" y="50" font-family="Arial, sans-serif" font-size="36" fill="#27AE60" text-anchor="middle" font-weight="bold">🛠️ ACT</text>
      <text x="160" y="90" font-family="Arial, sans-serif" font-size="22" fill="#333" text-anchor="middle">도구 실행</text>
      <text x="160" y="120" font-family="Arial, sans-serif" font-size="22" fill="#333" text-anchor="middle">정보 수집</text>
    </g>

    <!-- Arrow down to OBSERVE -->
    <line x1="700" y1="140" x2="700" y2="280" stroke="#27AE60" stroke-width="5"/>
    <polygon points="700,280 690,265 710,265" fill="#27AE60"/>

    <!-- OBSERVE -->
    <g transform="translate(540, 280)">
      <rect width="320" height="140" rx="20" fill="white" stroke="#ff9800" stroke-width="4" filter="url(#shadow0152)"/>
      <text x="160" y="50" font-family="Arial, sans-serif" font-size="36" fill="#ff9800" text-anchor="middle" font-weight="bold">👁️ OBSERVE</text>
      <text x="160" y="90" font-family="Arial, sans-serif" font-size="22" fill="#333" text-anchor="middle">결과 분석</text>
      <text x="160" y="120" font-family="Arial, sans-serif" font-size="22" fill="#333" text-anchor="middle">충분한가?</text>
    </g>

    <!-- Decision Diamond -->
    <g transform="translate(160, 350)">
      <path d="M 0,-40 L 40,0 L 0,40 L -40,0 Z" fill="#e74c3c" filter="url(#shadow0152)"/>
      <text x="0" y="-8" font-family="Arial, sans-serif" font-size="16" fill="white" text-anchor="middle" font-weight="bold">정보</text>
      <text x="0" y="10" font-family="Arial, sans-serif" font-size="16" fill="white" text-anchor="middle" font-weight="bold">충분?</text>
    </g>

    <!-- Arrow from OBSERVE to Decision -->
    <line x1="540" y1="350" x2="210" y2="350" stroke="#ff9800" stroke-width="5"/>
    <polygon points="210,350 225,340 225,360" fill="#ff9800"/>

    <!-- NO arrow back to THINK -->
    <line x1="120" y1="350" x2="30" y2="350" stroke="#e74c3c" stroke-width="5" stroke-dasharray="10,5"/>
    <line x1="30" y1="350" x2="30" y2="70" stroke="#e74c3c" stroke-width="5" stroke-dasharray="10,5"/>
    <line x1="30" y1="70" x2="80" y2="70" stroke="#e74c3c" stroke-width="5" stroke-dasharray="10,5"/>
    <polygon points="80,70 65,60 65,80" fill="#e74c3c"/>
    <text x="50" y="210" font-family="Arial, sans-serif" font-size="32" fill="#e74c3c" font-weight="bold">NO</text>

    <!-- YES arrow to Answer -->
    <line x1="160" y1="390" x2="160" y2="480" stroke="#27AE60" stroke-width="5"/>
    <polygon points="160,480 150,465 170,465" fill="#27AE60"/>
    <text x="200" y="440" font-family="Arial, sans-serif" font-size="32" fill="#27AE60" font-weight="bold">YES</text>

    <!-- Answer Box -->
    <rect y="480" width="320" height="100" rx="20" fill="#27AE60" filter="url(#shadow0152)"/>
    <text x="160" y="525" font-family="Arial, sans-serif" font-size="32" fill="white" text-anchor="middle" font-weight="bold">✅ 답변 완성</text>
    <text x="160" y="560" font-family="Arial, sans-serif" font-size="20" fill="white" text-anchor="middle">최종 응답 생성</text>
  </g>

  <!-- Example at bottom -->
  <g transform="translate(200, 920)">
    <rect width="1520" height="120" rx="20" fill="white" stroke="#667eea" stroke-width="4" filter="url(#shadow0152)"/>
    <text x="760" y="40" font-family="Arial, sans-serif" font-size="28" fill="#667eea" text-anchor="middle" font-weight="bold">📌 예시: "서울 날씨는?"</text>

    <g transform="translate(80, 60)">
      <circle cx="20" cy="12" r="18" fill="#667eea"/>
      <text x="20" y="20" font-family="Arial, sans-serif" font-size="16" fill="white" text-anchor="middle" font-weight="bold">1</text>
      <text x="60" y="20" font-family="Arial, sans-serif" font-size="20" fill="#333"><tspan font-weight="bold">THINK:</tspan> "날씨 API 사용하자"</text>

      <circle cx="500" cy="12" r="18" fill="#27AE60"/>
      <text x="500" y="20" font-family="Arial, sans-serif" font-size="16" fill="white" text-anchor="middle" font-weight="bold">2</text>
      <text x="540" y="20" font-family="Arial, sans-serif" font-size="20" fill="#333"><tspan font-weight="bold">ACT:</tspan> weather_api.call("서울") → "맑음, 18°C"</text>

      <circle cx="1160" cy="12" r="18" fill="#ff9800"/>
      <text x="1160" y="20" font-family="Arial, sans-serif" font-size="16" fill="white" text-anchor="middle" font-weight="bold">3</text>
      <text x="1200" y="20" font-family="Arial, sans-serif" font-size="20" fill="#333"><tspan font-weight="bold">OBSERVE:</tspan> "충분함! 답변 가능"</text>
    </g>
  </g>
</svg>
